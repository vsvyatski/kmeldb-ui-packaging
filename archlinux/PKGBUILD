# Maintainer: Vladimir Svyatski <vsvyatski@yandex.ru>

pkgname=kmeldb-ui
pkgver=0.4.0
pkgrel=1
pkgdesc='Kenwood Music Editor Light replacement for Linux systems.'
arch=('any')
url="https://vsvyatski.github.io/kmeldb-ui"
license=('GPL3')
depends=('python-pyqt5>=5.5.0')
optdepends=('qt5-translations>=5.5.0')
makedepends=('rsync' 'python' 'python-wheel')
source=("https://github.com/vsvyatski/$pkgname/archive/v$pkgver.tar.gz")
sha256sums=('SKIP')
install=install-actions.sh

build() {
    cd "$pkgname-$pkgver"
    sh build.sh
    echo Generating virtual environment...
    python3 -m venv --system-site-packages dist/kmeldb-ui/venv
    dist/kmeldb-ui/venv/bin/pip3 install -r dist/kmeldb-ui/requirements.txt
}

package() {
    echo Packaging...
}
